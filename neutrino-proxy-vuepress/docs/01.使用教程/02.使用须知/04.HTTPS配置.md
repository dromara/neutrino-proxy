---
title: HTTPS配置
date: 2023-05-27 11:40:12
permalink: /pages/99a300/
---

## 基础说明
- 在中微子代理中，HTTP的定位是：为ip+端口的访问形式增加域名访问的支持。因此：
  - 如果端口映射正确配置了域名，那么该映射同时支持IP+端口、域名2种访问形式。
  - 如果端口映射未配置域名，那么只能以ip+端口的形式访问，此时等价于选择TCP协议。
  
- 在中微子代理中，HTTPS作为HTTP的一种增强行为，不作为一个单独的协议。因此：
  - 在端口映射中只需要选择HTTP即可
  - 若端口映射未正确配置域名，那么同理，此时等价于选择TCP协议。
  - 若端口映射配置了域名，但是未正确配置HTTPS端口、证书，那么此时可以通过域名访问，但不支持HTTPS
  - 若端口映射配置了域名，且正确配置了HTTPS端口、证书，那么此时可以通过IP+端口、http域名、https域名3种形式访问


## HTTPS配置流程
- 按照域名映射流程，完成域名的配置
- 在服务端配置域名的HTTPS证书信息（此处应该是通配符证书）

## HTTPS端口问题
- 与HTTP类似，HTTPS也有一个默认端口：443，默认情况下需要占用服务端443端口
- 如果代理服务端不能独占443端口，此处可以指定任意端口，但需要在nginx中配置443端口的转发规则。此处与域名映射中代理服务端不使用80端口的情况类似
